# praktikum-middle-java-intershop-v2

## Java
Приложение запускается на версии Java 21

## База данных
Для работы необходима база данных **PostgreSQL 16.0**

## Redis
В качестве кэша в приложении используется **Redis 7.4.2**

## Maven
При разработке приложения использовался Maven версии 3.9.9

## Модули приложения
Приложение состоит из двух модулей: [intershop](intershop) и [payment](payment). Ниже приведена информация о сборке и запуске приложения сразу со всеми модулями.

## Запуск тестов
Для запуска тестов необходимо запустить команду (должен быть доступен Docker deamon)
```
mvn clean test
```

## Сборка
Для сборки проекта необходимо запустить команду
```
mvn clean package
```
Если после сборки генерированные классы не индексируются средой разработки (красные), то нужно правой кнопкой мыши кликнуть по pom.xml соответствующего модуля, далее выбрать Maven, далее выбрать Generate Sources and Upload Folders.

## Запуск веб-приложения в Docker
Для запуска веб-приложения необходимо из дирректории проекта запустить следующую команду:

```
docker-compose up -d --build
```
Если появляется ошибка "failed to solve: changes out of order", то необходимо обновить Docker Desktop до последней версии

Данная команда запустит приложение в Docker контейнере с БД и Redis внутри.

## Веб-интерфейс приложения
После запуска приложения веб-интерфейс будет доступен по адресу http://localhost:8080

Добавление товаров происходит в следующей форме: http://localhost:8080/create-item-

Посмотреть текущий баланс пользователя: http://localhost:8081/balance?user_id=1

## Запуск модулей по отдельности
Для запуска модулей по отдельности необходимо перейти в папку соответствующего модуля и следовать инструкция указанным в README.